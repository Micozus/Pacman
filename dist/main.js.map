{"version":3,"sources":["../main.js"],"names":["boardWidth","boardHeight","pacman","document","getElementById","board","scoreBoard","score","moveAvailable","player","id","x","y","boardMap","allPositions","flatMap","row","split","map","char","drawWalls","wall","createElement","classList","add","style","gridArea","appendChild","drawDots","dot","walls","filter","item","dots","forEach","updateGridPosition","pacmanAnimation","translateDirection","keyframesStyle","animate","pacmanAnimationData","direction","easing","duration","iterations","transform","updatePacman","undefined","setTimeout","window","addEventListener","event","currentPosition","code","console","log","index","dotElement","splice","parentNode","removeChild","innerText"],"mappings":"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","sourcesContent":["const boardWidth = 28;\r\nconst boardHeight = 31;\r\nconst pacman = document.getElementById(\"pacman\");\r\nconst board = document.getElementById(\"board\");\r\nconst scoreBoard = document.getElementById(\"score\");\r\nlet score = 0;\r\nlet moveAvailable = true;\r\n\r\nconst player = {\r\n    id: pacman,\r\n    x: 13,\r\n    y: 17\r\n};\r\n\r\nconst boardMap = [\r\n    \"############################\",\r\n    \"#............##............#\",\r\n    \"#.####.#####.##.#####.####.#\",\r\n    \"#.####.#####.##.#####.####.#\",\r\n    \"#.####.#####.##.#####.####.#\",\r\n    \"#..........................#\",\r\n    \"#.####.##.########.##.####.#\",\r\n    \"#.####.##.########.##.####.#\",\r\n    \"#......##....##............#\",\r\n    \"######.#####.##.#####.######\",\r\n    \"    ##.#####.##.#####.##    \",\r\n    \"    ##.##..........##.##    \",\r\n    \"    ##.##.########.##.##    \",\r\n    \"######.##.########.##.######\",\r\n    \"..........########..........\",\r\n    \"######.##.########.##.######\",\r\n    \"    ##.##.########.##.##    \",\r\n    \"    ##.##.        .##.##    \",\r\n    \"    ##.##.########.##.##    \",\r\n    \"######.##.########.##.######\",\r\n    \"#............##............#\",\r\n    \"#.####.#####.##.#####.####.#\",\r\n    \"#.####.#####.##.#####.####.#\",\r\n    \"#...##................##...#\",\r\n    \"###.##.##.########.##.##.###\",\r\n    \"###.##.##.########.##.##.###\",\r\n    \"#......##....##....##......#\",\r\n    \"#.##########.##.##########.#\",\r\n    \"#.##########.##.##########.#\",\r\n    \"#..........................#\",\r\n    \"############################\"\r\n];\r\n\r\nconst allPositions = boardMap.flatMap((row, y) =>\r\n    row.split(\"\").map((char, x) => ({x, y, char}))\r\n);\r\n\r\nconst drawWalls = (x, y) => {\r\n    const wall = document.createElement(\"div\");\r\n    wall.classList.add(\"wall\");\r\n    wall.style.gridArea = `${y + 1}/${x + 1}/${y + 2}/${x + 2}`;\r\n    board.appendChild(wall);\r\n};\r\n\r\nconst drawDots = (x, y) => {\r\n    const dot = document.createElement(\"div\");\r\n    dot.classList.add(\"dot\");\r\n    dot.id = `dot${x}:${y}`;\r\n    dot.style.gridArea = `${y + 1}/${x + 1}/${y + 2}/${x + 2}`;\r\n    board.appendChild(dot);\r\n};\r\n\r\nconst walls = allPositions.filter(item => item.char === \"#\");\r\nconst dots = allPositions.filter(item => item.char === \".\");\r\n\r\nwalls.forEach(wall => drawWalls(wall.x, wall.y));\r\ndots.forEach(dot => drawDots(dot.x, dot.y));\r\n\r\nconst updateGridPosition = () => {\r\n    player.id.style.gridArea = `${player.y + 1}/${player.x + 1}/${player.y +\r\n    2}/${player.x + 2}`;\r\n    moveAvailable = true;\r\n};\r\n\r\nconst pacmanAnimation = (translateDirection, keyframesStyle) => {\r\n    player.id.animate(pacmanAnimationData(translateDirection, keyframesStyle), {\r\n        direction: 'normal',\r\n        easing: 'linear',\r\n        duration: 190,\r\n        iterations: 1\r\n    });\r\n};\r\n\r\nconst pacmanAnimationData = (translateDirection, keyframesStyle) => {\r\n    return [{transform: `${translateDirection}(0px)`},\r\n        {transform: `${translateDirection}(${keyframesStyle})`}]\r\n};\r\n\r\nconst updatePacman = (direction) => {\r\n    if (direction === undefined) {\r\n        updateGridPosition();\r\n    } else {\r\n        switch (direction) {\r\n            case \"L\":\r\n                pacmanAnimation('translateX', '-10px');\r\n                break;\r\n            case \"R\":\r\n                pacmanAnimation('translateX', '10px');\r\n                break;\r\n            case \"U\":\r\n                pacmanAnimation('translateY', '-10px');\r\n                break;\r\n            case \"D\":\r\n                pacmanAnimation('translateY', '10px');\r\n                break;\r\n        }\r\n        moveAvailable = false;\r\n        setTimeout(() => updateGridPosition(), 200);\r\n\r\n    }\r\n\r\n};\r\n\r\nupdatePacman();\r\n\r\nwindow.addEventListener(\"keydown\", event => {\r\n    if (moveAvailable) {\r\n        const currentPosition = {\r\n            x: player.x,\r\n            y: player.y\r\n        };\r\n\r\n        let direction;\r\n        switch (event.code) {\r\n            case \"ArrowRight\":\r\n                player.x = player.x + 1;\r\n                console.log(\"R\", player.x, player.y);\r\n                direction = \"R\";\r\n                break;\r\n            case \"ArrowLeft\":\r\n                player.x = player.x - 1;\r\n                console.log(\"L\", player.x, player.y);\r\n                direction = \"L\";\r\n                break;\r\n            case \"ArrowUp\":\r\n                player.y = player.y - 1;\r\n                console.log(\"U\", player.x, player.y);\r\n                direction = \"U\";\r\n                break;\r\n            case \"ArrowDown\":\r\n                player.y = player.y + 1;\r\n                console.log(\"D\", player.x, player.y);\r\n                direction = \"D\";\r\n                break;\r\n        }\r\n        if (player.x < 0 || player.x > boardWidth - 1) {\r\n            player.x = currentPosition.x;\r\n        }\r\n        if (player.y < 0 || player.y > boardHeight - 1) {\r\n            player.y = currentPosition.y;\r\n        }\r\n        walls.forEach(wall => {\r\n            if (player.x === wall.x && player.y === wall.y) {\r\n                player.x = currentPosition.x;\r\n                player.y = currentPosition.y;\r\n            }\r\n        });\r\n        dots.forEach((dot, index) => {\r\n            let dotElement;\r\n            if (player.x === dot.x && player.y === dot.y) {\r\n                dotElement = document.getElementById(`dot${dot.x}:${dot.y}`);\r\n                dots.splice(index, 1);\r\n                dotElement.parentNode.removeChild(dotElement);\r\n                score += 100;\r\n                scoreBoard.innerText = score;\r\n            }\r\n        });\r\n        updatePacman(direction);\r\n    }\r\n});\r\n"],"file":"main.js"}